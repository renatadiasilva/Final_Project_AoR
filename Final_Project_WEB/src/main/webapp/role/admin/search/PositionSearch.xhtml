<ui:composition template="../../../WEB-INF/template/Layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="Título">Admin - Pesquisas de Posições - IT Jobs</ui:define>

	<ui:define name="contents">
		<h1>Pesquisas de Posições</h1>

		<h:form id="positionSearch">

			<h:panelGrid id="buttonsPositionSearch" columns="7">

				<p:commandButton value="Todas posições"
					action="#{positionSearchCDI.searchAll()}" update="@form, messages"
					icon="ui-icon-search" />

				<p:commandButton value="Posições abertas"
					action="#{positionSearchCDI.searchOpenPositions()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições perto do SLA"
					action="#{positionSearchCDI.searchCloseToSLAPositions()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (código)"
					action="#{positionSearchCDI.searchPositionsByCode()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições ente duas datas"
					action="#{positionSearchCDI.searchPositionsByDate()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (título)"
					action="#{positionSearchCDI.searchPositionsByTitle()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (pelo menos um local)"
					action="#{positionSearchCDI.searchPositionsByLocationsOne()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (vários locais)"
					action="#{positionSearchCDI.searchPositionsByLocationsAll()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (estado)"
					action="#{positionSearchCDI.searchPositionsByStatus()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (empresa)"
					action="#{positionSearchCDI.searchPositionsByCompany()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (área técnica)"
					action="#{positionSearchCDI.searchPositionsByTechArea()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (todos os campos)"
					action="#{positionSearchCDI.searchPositions()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (keyword)"
					action="#{positionSearchCDI.searchPositionsByKeyword()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (keyword/gestor)"
					action="#{positionSearchCDI.searchPositionsByKeywordAndManager()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (campos/gestor)"
					action="#{positionSearchCDI.searchPositionsByManager()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Posições (candidato)"
					action="#{positionSearchCDI.searchPositionsByCandidate()}"
					update="@form, messages" icon="ui-icon-search" />

				<p:commandButton value="Candidato associado a posição?"
					action="#{positionSearchCDI.alreadyCandidateOfPosition()}"
					update="@form, messages" icon="ui-icon-search" />

			</h:panelGrid>

			<h:panelGrid id="gridPositionSearch" columns="8">

				<p:outputLabel value="Primeira Data: " for="search-date1p" />
				<p:calendar id="search-date1p" value="#{positionSearchCDI.date1}"
					pattern="dd/MM/yyyy" readonlyInput="true" navigator="true"
					yearRange="c-100:c+100" locale="pt" size="35" />

				<p:outputLabel value="Segunda Data: " for="search-date2p" />
				<p:calendar id="search-date2p" value="#{positionSearchCDI.date2}"
					pattern="dd/MM/yyyy" readonlyInput="true" navigator="true"
					yearRange="c-100:c+100" locale="pt" size="35" />

				<p:outputLabel value="Código: " for="search-code" />
				<p:inputText id="search-code" value="#{positionSearchCDI.code}"
					size="35" />

				<p:outputLabel value="Título: " for="search-titlep" />
				<p:inputText id="search-titlep" value="#{positionSearchCDI.title}"
					size="35" />

				<p:outputLabel value="Estado: " for="search-statusp" />
				<p:inputText id="search-statusp" value="#{positionSearchCDI.status}"
					size="35" />

				<p:outputLabel value="Empresa: " for="search-company" />
				<p:inputText id="search-company"
					value="#{positionSearchCDI.company}" size="35" />

				<p:outputLabel value="Área Técnica: " for="search-tarea" />
				<p:inputText id="search-tarea" value="#{positionSearchCDI.tarea}"
					size="35" />

				<p:outputLabel value="SLA (dias): " for="search-sla" />
				<p:inputText id="search-sla" value="#{positionSearchCDI.days}"
					size="35" />

				<p:outputLabel value="Keyword: " for="search-keywordp" />
				<p:inputText id="search-keywordp"
					value="#{positionSearchCDI.keyword}" size="35" />

				<p:outputLabel value="Id gestor/candid: " for="search-idUp" />
				<p:inputText id="search-idUp" value="#{positionSearchCDI.idU}"
					size="35" />

				<p:outputLabel value="Id da posição: " for="search-idPosp" />
				<p:inputText id="search-idPosp" value="#{positionSearchCDI.idPos}"
					size="35" />

				<p:outputLabel value="Candidato+posição? " for="search-resultp" />
				<p:inputText id="search-resultp"
					value="#{positionSearchCDI.result}" size="35" />

				<p:outputLabel value="Coimbra: " for="search-coimbra" />
				<p:selectBooleanCheckbox id="search-coimbra"
					value="#{positionSearchCDI.coimbra}" />

				<p:outputLabel value="Porto: " for="search-porto" />
				<p:selectBooleanCheckbox id="search-porto"
					value="#{positionSearchCDI.porto}" />

				<p:outputLabel value="Lisboa: " for="search-lisboa" />
				<p:selectBooleanCheckbox id="search-lisboa"
					value="#{positionSearchCDI.lisboa}" />

				<p:outputLabel value="Outro local: " for="search-otherl" />
				<p:selectBooleanCheckbox id="search-otherl"
					value="#{positionSearchCDI.other}" />

				<p:outputLabel value="Local: " for="search-location" />
				<p:inputText id="search-location"
					value="#{positionSearchCDI.location}" size="35" />

			</h:panelGrid>

			<p:dataTable emptyMessage="Não foram encontradas posições." 
				var="p" value="#{positionSearchCDI.plist}">
				<f:facet name="header">Listagem posições</f:facet>
				<p:column headerText="Código">
					<h:outputText value="#{p.positionCode}" />
				</p:column>
				<p:column headerText="Título">
					<h:outputText value="#{p.title}" />
				</p:column>
				<p:column headerText="Data Abert">
					<h:outputText value="#{p.openingDate}" />
				</p:column>
				<p:column headerText="Estado">
					<h:outputText value="#{p.status}" />
				</p:column>
				<p:column headerText="Vagas">
					<h:outputText value="#{p.openings}" />
				</p:column>
				<p:column headerText="Empresa">
					<h:outputText value="#{p.company}" />
				</p:column>
				<p:column headerText="Área Técnica">
					<h:outputText value="#{p.technicalArea}" />
				</p:column>
				<p:column headerText="Data Fech">
					<h:outputText value="#{p.closingDate}" />
				</p:column>
				<p:column headerText="Data sla">
					<h:outputText value="#{p.slaDate}" />
				</p:column>
				<p:column headerText="Gestor">
					<h:outputText value="#{p.positionManager.firstName}" />
				</p:column>
				<p:column headerText="Criador">
					<h:outputText value="#{p.positionCreator.firstName}" />
				</p:column>
				<p:column headerText="Guião">
					<h:outputText value="#{p.defaultScript.title}" />
				</p:column>
			</p:dataTable>

		</h:form>

	</ui:define>

</ui:composition>