<ui:composition template="../../../WEB-INF/template/Layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<f:metadata>
		<f:viewAction actionListener = "#{adminNewUserCDI.clear()}" />
	</f:metadata>
	
	<ui:define name="titulo">Admin - Novo Utilizador
	 - #{styleSessionManagement.companyName}</ui:define>

	<ui:define name="contents">

		<h1>Novo Registo</h1>

		<h:form id="adminNewUserFormNonCandidate">

			<h:panelGrid columns="2" rendered="#{!adminNewUserCDI.candidate}">

				<ui:include src="admin-new-user-common-elements.xhtml" />

				<p:commandButton value="Novo Utilizador"
					action="#{adminNewUserCDI.newUserNC()}" update="@form, messages"
					icon="ui-icon-person" />

			</h:panelGrid>

		</h:form>


		<h:form id="adminNewUserFormCandidate">

			<h:panelGrid columns="2" rendered="#{adminNewUserCDI.candidate}">

				<ui:include src="admin-new-user-common-elements.xhtml" />

				<p:outputLabel value="Data de Nascimento: "
					for="adminSignup-birthday" />
				<p:calendar id="adminSignup-birthday"
					value="#{adminNewUserCDI.birthday}" pattern="dd/MM/yyyy"
					readonlyInput="true" navigator="true" yearRange="c-100:c+0"
					maxdate="#{adminNewUserCDI.maxDate}" locale="pt" size="35" />

				<p:outputLabel value="Telefone: " for="adminSignup-homePhone" />
				<p:inputMask mask="999 999 999" id="adminSignup-homePhone"
					value="#{adminNewUserCDI.homePhone}" size="35" maxlength="20">
					<p:ajax update="@this" />
				</p:inputMask>

				<p:outputLabel value="Telemóvel: " for="adminSignup-mobilePhone" />
				<p:inputMask mask="999 999 999" id="adminSignup-mobilePhone"
					value="#{adminNewUserCDI.mobilePhone}" size="35" maxlength="20"
					required="true" requiredMessage="Insira o telemóvel.">
					<p:ajax update="@this" />
				</p:inputMask>

				<p:outputLabel value="Morada: " for="adminSignup-adress" />
				<h:panelGroup>
					<p:inputTextarea id="adminSignup-adress"
						value="#{adminNewUserCDI.address}" cols="35" rows="3"
						counter="maxAdress" counterTemplate=" - {0}" required="true"
						requiredMessage="Insira a morada."
						maxlength="#{max.length.userInfoAddress()}">
						<p:ajax update="@this" />
					</p:inputTextarea>
					<h:outputText id="maxAdress" />
				</h:panelGroup>

				<p:outputLabel value="Cidade: " for="adminSignup-city" />
				<p:inputText id="adminSignup-city" value="#{adminNewUserCDI.city}"
					size="35" required="true" requiredMessage="Insira a cidade."
					maxlength="#{max.length.userInfoCity()}">
					<p:ajax update="@this" />
				</p:inputText>

				<p:outputLabel value="País: " for="adminSignup-country" />
				<p:inputText id="adminSignup-country"
					value="#{adminNewUserCDI.country}" size="35" required="true"
					requiredMessage="Insira o país"
					maxlength="#{max.length.userInfoCountry()}">
					<p:ajax update="@this" />
				</p:inputText>

				<p:outputLabel value="Curso: " for="adminSignup-course" />
				<p:inputText id="adminSignup-course"
					value="#{adminNewUserCDI.course}" size="35" required="true"
					requiredMessage="Insira o curso."
					maxlength="#{max.length.userInfoCourse()}">
					<p:ajax update="@this" />
				</p:inputText>

				<p:outputLabel value="Escola: " for="adminSignup-school" />
				<p:inputText id="adminSignup-school"
					value="#{adminNewUserCDI.school}" size="35" required="true"
					requiredMessage="Insira a escola."
					maxlength="#{max.length.userInfoSchool()}">
					<p:ajax update="@this" />
				</p:inputText>

				<p:outputLabel value="LinkedIn: " for="adminSignup-linkedin" />
				<p:inputText id="adminSignup-linkedin"
					value="#{adminNewUserCDI.linkedin}" size="35" maxlength="40">
					<p:ajax update="@this" />
				</p:inputText>

				<p:commandButton value="Novo Utilizador"
					actionListener="#{adminNewUserCDI.newUser()}"
					update="adminNewUserFormCandidate adminNewUserFormNonCandidate messages"
					icon="ui-icon-person" />

			</h:panelGrid>

		</h:form>

	</ui:define>

</ui:composition>