<ui:composition template="../../../WEB-INF/template/Layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">



	<ui:define name="Título">
	As minhas posições
	 - #{styleSessionManagement.companyName}
	</ui:define>

	<ui:define name="contents">
		<f:metadata>
			<f:viewAction actionListener=
				"#{positionSearchCDI.
					searchPositionManagedByUser(userSessionManagement.
					currentUserClone.id)}" />
		</f:metadata>

		<h1>As minhas posições</h1>

		<h:form id="spontaneousSearch">

			<p:dataTable
				emptyMessage="Não é gestor de nenhuma posição neste momento." 
				var="s" value="#{positionSearchCDI.plist}"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink}
				 {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
				paginator="true" rows="10" >
				<f:facet name="header">Listagem</f:facet>
				<p:column headerText="Código">
					<h:outputText value="#{p.positionCode}" />
				</p:column>
				<p:column headerText="Título">
					<h:outputText value="#{p.title}" />
				</p:column>
				<p:column headerText="Data Abert">
					<h:outputText value="#{p.openingDate}" />
				</p:column>
				<p:column headerText="Estado">
					<h:outputText value="#{p.status}" />
				</p:column>
				<p:column headerText="Vagas">
					<h:outputText value="#{p.openings}" />
				</p:column>
				<p:column headerText="Empresa">
					<h:outputText value="#{p.company}" />
				</p:column>
				<p:column headerText="Área Técnica">
					<h:outputText value="#{p.technicalArea}" />
				</p:column>
				<p:column headerText="Data Fech">
					<h:outputText value="#{p.closingDate}" />
				</p:column>
				<p:column headerText="Data sla">
					<h:outputText value="#{p.slaDate}" />
				</p:column>
				<p:column headerText="Gestor">
					<h:outputText value="#{p.positionManager.firstName}" />
				</p:column>
				<p:column headerText="Criador">
					<h:outputText value="#{p.positionCreator.firstName}" />
				</p:column>
				<p:column headerText="Guião">
					<h:outputText value="#{p.defaultScript.title}" />
				</p:column>
			</p:dataTable>

		</h:form>

	</ui:define>

</ui:composition>