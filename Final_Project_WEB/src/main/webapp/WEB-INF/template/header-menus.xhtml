<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head></h:head>
<h:body>

	<ui:composition>

		<ui:include src="change-password.xhtml" />
		<ui:include src="edit-user-info.xhtml" />

		<h:form>

			<p:megaMenu orientation="horizontal">

				<p:submenu label="Administrador" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.admin}">
					<p:column>
						<p:submenu label="Utilizadores">
							<p:menuitem value="Registar Novo Utilizador"
								url="../../role/admin/NewUser.xhtml" />
							<p:menuitem value="Editar Utilizador"
								url="../../role/admin/EditUser.xhtml" />
							<p:menuitem value="Procurar Utilizadores"
								url="../../role/admin/UserSearch.xhtml" />
						</p:submenu>
						<p:submenu label="Posições">
							<p:menuitem value="Nova Posição" url="#" />
							<p:menuitem value="Editar Posição" url="#" />
							<p:menuitem value="Procurar Posições" url="#" />
						</p:submenu>
						<p:submenu label="Candidaturas">
							<p:menuitem value="Nova Candidatura" url="#" />
							<p:menuitem value="Editar Candidatura" url="#" />
							<p:menuitem value="Procurar Candidatos"
								url="../../role/admin/CandidateSearch.xhtml" />
							<p:menuitem value="Candidaturas Espontâneas" url="#" />
						</p:submenu>
					</p:column>

					<p:column>
						<p:submenu label="Entrevistas">
							<p:menuitem value="Agendar Entrevista" url="#" />
							<p:menuitem value="Editar Entrevista" url="#" />
							<p:menuitem value="Procurar Entrevistas" url="#" />
						</p:submenu>
						<p:submenu label="Guiões">
							<p:menuitem value="Novo Guião" url="#" />
							<p:menuitem value="Editar Guião" url="#" />
							<p:menuitem value="Procurar Guiões" url="#" />
						</p:submenu>
						<p:submenu label="Relatórios">
							<p:menuitem value="Criar Relatório" url="#" />
						</p:submenu>
						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefault('ADMIN')}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRole('ADMIN')}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:submenu label="Gestor" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.manager}">
					<p:column>
						<p:submenu label="Posições">
							<p:menuitem value="As Minhas Posições" url="#" />
						</p:submenu>
						<p:submenu label="Candidaturas">
							<p:menuitem value="Procurar Candidatos" url="#" />
							<p:menuitem value="Candidaturas Espontâneas" url="#" />
						</p:submenu>
						<p:submenu label="Entrevistas">
							<p:menuitem value="Agendar Entrevista" url="#" />
							<p:menuitem value="Editar Entrevista" url="#" />
							<p:menuitem value="Procurar Entrevistas" url="#" />
						</p:submenu>

						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefault('MANAGER')}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRole('MANAGER')}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:submenu label="Entrevistador" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.interviewer}">
					<p:column>
						<p:submenu label="Entrevistas">
							<p:menuitem value="Entrevistas Agendadas" url="#" />
							<p:menuitem value="Entrevistas Passadas" url="#" />
						</p:submenu>
						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefault('INTERVIEWER')}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRole('INTERVIEWER')}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:submenu label="Candidato" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.candidate}">
					<p:column>
						<p:submenu label="Candidaturas">
							<p:menuitem value="As Minhas Candidaturas" url="#" />
						</p:submenu>
						<p:submenu label="Entrevistas">
							<p:menuitem value="As minhas Entrevistas" url="#" />
						</p:submenu>
						<p:submenu label="Posições (público)">
							<p:menuitem value="Procurar Posições" url="#" />
						</p:submenu>
						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefault('CANDIDATE')}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRole('CANDIDATE')}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>

				</p:submenu>

				<p:submenu
					label="#{userSessionManagement.currentUser.firstName} #{userSessionManagement.currentUser.lastName}"
					icon="ui-icon-person">
					<p:column>
						<p:submenu label="Utilizador">
							<p:menuitem value="Dados Pessoais"
								actionListener="#{editUserInfoCDI.init()}"
								update="editUserInfoForm"
								oncomplete="PF('editUserInfo').show();" />
	
							<p:menuitem value="Mudar Password"
								onclick="PF('changePassword').show();" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:menuitem value="Logout" icon="ui-icon-power"
					actionListener="#{userSessionManagement.logout()}" ajax="false" />
			</p:megaMenu>

		</h:form>

	</ui:composition>

</h:body>
</html>
