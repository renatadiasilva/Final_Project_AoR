<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head></h:head>
<h:body>

	<ui:composition>

		<ui:include src="change-password.xhtml" />
		<ui:include src="edit-user-info.xhtml" />
		<ui:include src="edit-candidate-info.xhtml" />
		<ui:include src="upload-cv.xhtml" />
		<ui:include src="change-email.xhtml" />

		<h:form id="headerMenu">

			<p:megaMenu orientation="horizontal">

				<p:menuitem value="Início" icon="ui-icon-home"
					rendered="#{userSessionManagement.checkDefault('ADMIN')}"
					actionListener="../../../role/admin/landing/Landing.xhtml"
					ajax="false" />

				<p:menuitem value="Início" icon="ui-icon-home"
					rendered="#{userSessionManagement.checkDefault('MANAGER')}"
					actionListener="../../../role/manager/landing/Landing.xhtml"
					ajax="false" />

				<p:menuitem value="Início" icon="ui-icon-home"
					rendered="#{userSessionManagement.checkDefault('INTERVIEWER')}"
					actionListener="../../../role/interviewer/landing/Landing.xhtml"
					ajax="false" />

				<p:menuitem value="Início" icon="ui-icon-home"
					rendered="#{userSessionManagement.checkDefault('CANDIDATE')}"
					actionListener="../../../role/admin/landing/Landing.xhtml"
					ajax="false" />

				<p:submenu label="Administrador" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.admin}">
					<p:column>
						<p:submenu label="Utilizadores">
							<p:menuitem value="Registar Novo Utilizador"
								url="../../../role/admin/newuser/NewUser.xhtml" />
							<p:menuitem value="Editar Utilizador"
								url="../../../role/admin/edit/EditUser.xhtml" />
							<p:menuitem value="Procurar Utilizadores"
								url="../../../role/admin/search/UserSearch.xhtml" />
						</p:submenu>
						<p:submenu label="Posições">
							<p:menuitem value="Nova Posição"
								url="../../../role/admin/positions/NewPosition.xhtml" />
							<p:menuitem value="Editar Posição" url="#" />
							<p:menuitem value="Procurar Posições"
								url="../../../role/admin/search/PositionSearch.xhtml" />
						</p:submenu>
						<p:submenu label="ZONA PERIGOSA (Cuidado!)">
							<p:menuitem value="Remoções"
								url="../../../role/admin/dangerzone/DangerZone.xhtml" />
							<p:menuitem value="Lista de email removidos"
								url="../../../role/admin/dangerzone/RemovedEmails.xhtml" />
						</p:submenu>
					</p:column>

					<p:column>
						<p:submenu label="Entrevistas">
							<p:menuitem value="Agendar Entrevista" url="#" />
							<p:menuitem value="Editar Entrevista" url="#" />
							<p:menuitem value="Procurar Entrevistas"
								url="../../../role/admin/search/InterviewSearch.xhtml" />
						</p:submenu>
						<p:submenu label="Guiões">
							<p:menuitem value="Novo Guião" url="../../../role/admin/scripts/NewScript.xhtml" />
							<p:menuitem value="Editar Guião" url="#" />
							<p:menuitem value="Procurar Guiões"
								url="../../../role/admin/search/ScriptSearch.xhtml" />
						</p:submenu>
						<p:submenu label="Estilos">
							<p:menuitem value="Gerir estilos"
								url="../../../role/admin/style/NewStyle.xhtml" />
						</p:submenu>
					</p:column>

					<p:column>
						<p:submenu label="Candidaturas">
							<p:menuitem value="Nova Candidatura" url="#" />
							<p:menuitem value="Editar Candidatura" url="#" />
							<p:menuitem value="Procurar Candidatos"
								url="../../../role/admin/search/CandidateSearch.xhtml" />
							<p:menuitem value="Procurar Candidaturas"
								url="../../../role/admin/search/SubmissionSearch.xhtml" />
							<p:menuitem value="Candidaturas Espontâneas" 
								url="../../../role/admin/search/SpontaneousSearch.xhtml" />
						</p:submenu>
					</p:column>

					<p:column>
						<p:submenu label="Relatórios">
							<p:menuitem value="Relatórios por posições"
								url="../../../role/admin/reports/PositionReports.xhtml" />
							<p:menuitem value="Relatórios gerais "
								url="../../../role/admin/reports/NumberReports.xhtml" />
							<p:menuitem value="Relatórios gerais com detalhe"
								url="../../../role/admin/reports/ResultReports.xhtml" />
							<p:menuitem value="Relatórios de entrevistas"
								url="../../../role/admin/reports/InterviewReports.xhtml" />
							<p:menuitem value="Relatório detalhado de uma posição"
								url="../../../role/admin/reports/SubmissionReports.xhtml" />
						</p:submenu>
						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefault('ADMIN')}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRole('ADMIN')}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:submenu label="Gestor" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.manager}">
					<p:column>
						<p:submenu label="Posições">
							<p:menuitem value="As Minhas Posições"
								url="../../../role/manager/positions/MyPositions.xhtml" />
						</p:submenu>
						<p:submenu label="Candidaturas">
							<p:menuitem value="Procurar Candidatos" url="#" />
							<p:menuitem value="Candidaturas Espontâneas" 
							url="../../../role/manager/search/SpontaneousSearch.xhtml" />
						</p:submenu>
						<p:submenu label="Entrevistas">
							<p:menuitem value="Agendar Entrevista" url="#" />
							<p:menuitem value="Editar Entrevista" url="#" />
							<p:menuitem value="Procurar Entrevistas" url="#" />
						</p:submenu>

						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefault('MANAGER')}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRole('MANAGER')}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:submenu label="Entrevistador" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.interviewer}">
					<p:column>
						<p:submenu label="Entrevistas">
							<p:menuitem value="As minhas Entrevistas Agendadas" url="#" />
							<p:menuitem value="As minhas Entrevistas Passadas" url="#" />
						</p:submenu>
						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefault('INTERVIEWER')}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRole('INTERVIEWER')}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:submenu label="Candidato" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.candidate}">
					<p:column>
						<p:submenu label="Candidaturas">
							<p:menuitem value="As Minhas Candidaturas" url="#" />
						</p:submenu>
						<p:submenu label="Entrevistas">
							<p:menuitem value="As minhas Entrevistas" url="#" />
						</p:submenu>

						<p:submenu label="CV">
							<p:menuitem value="Upload CV"
								rendered="#{!userSessionManagement.cv}"
								onclick="PF('uploadCV').show();" />

							<p:menuitem value="Ver CV" rendered="#{userSessionManagement.cv}"
								url="#{userSessionManagement.cvPath}" target="_blank" />

							<p:menuitem value="Actualizar CV"
								rendered="#{userSessionManagement.cv}"
								onclick="PF('uploadCV').show();" />
						</p:submenu>

						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefault('CANDIDATE')}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRole('CANDIDATE')}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>

				</p:submenu>

				<p:submenu label="#{userSessionManagement.userFullName}"
					icon="ui-icon-person">
					<p:column>
						<p:submenu label="Utilizador">
							<p:menuitem value="Dados Pessoais"
								actionListener="#{editUserInfoCDI.updateInfo()}"
								update="editUserInfoForm"
								oncomplete="PF('editUserInfo').show();"
								rendered="#{!userSessionManagement.candidate}" />

							<p:menuitem value="Dados Pessoais"
								actionListener="#{editUserInfoCDI.updateInfo()}"
								update="editCandidateInfoForm"
								oncomplete="PF('editCandidateInfo').show();"
								rendered="#{userSessionManagement.candidate}" />

							<p:menuitem value="Mudar Password"
								onclick="PF('changePassword').show();" />

							<p:menuitem value="Mudar Email"
								onclick="PF('changeEmail').show();" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:menuitem value="Logout" icon="ui-icon-power"
					actionListener="#{userSessionManagement.logout()}" ajax="false" />
			</p:megaMenu>

		</h:form>

	</ui:composition>

</h:body>
</html>
