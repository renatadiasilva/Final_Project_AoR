<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head></h:head>
<h:body>

	<ui:composition>

		<ui:include src="change-password.xhtml" />
		<ui:include src="edit-user-info.xhtml" />
		<ui:include src="edit-candidate-info.xhtml" />
		<ui:include src="upload-cv.xhtml" />
		<ui:include src="change-email.xhtml" />
		<ui:include src="spontaneous-submission.xhtml" />
		<ui:include src="check-position.xhtml" />

		<h:form id="headerMenu">

			<p:megaMenu orientation="horizontal">

				<p:menuitem value="Início" icon="ui-icon-home"
					rendered="#{userSessionManagement.checkDefaultAdmin()}"
					url="../../../role/admin/landing/Landing.xhtml" />

				<p:menuitem value="Início" icon="ui-icon-home"
					rendered="#{userSessionManagement.checkDefaultManager()}"
					url="../../../role/manager/landing/Landing.xhtml" />

				<p:menuitem value="Início" icon="ui-icon-home"
					rendered="#{userSessionManagement.checkDefaultInterviewer()}"
					url="../../../role/interviewer/landing/Landing.xhtml" />

				<p:menuitem value="Início" icon="ui-icon-home"
					rendered="#{userSessionManagement.checkDefaultCandidate()}"
					url="../../../role/candidate/landing/Landing.xhtml" />

				<p:submenu label="Administrador" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.admin}">
					<p:column>
						<p:submenu label="Utilizadores">
							<p:menuitem value="Novo Utilizador"
								url="../../../role/admin/newuser/NewUser.xhtml" />
							<p:menuitem value="Listar/Editar Utilizadores"
								url="../../../role/admin/edit/EditUser.xhtml" />
						</p:submenu>
						<p:submenu label="Posições">
							<p:menuitem value="Nova Posição"
								url="../../../role/admin/positions/NewPosition.xhtml" />
							<p:menuitem value="Editar Posições"
								url="../../../role/admin/positions/EditPosition.xhtml" />
							<p:menuitem value="Pesquisar Posições"
								url="../../../role/admin/positions/AllPositions.xhtml" />
						</p:submenu>
					</p:column>

					<p:column>
						<p:submenu label="Entrevistas">
							<p:menuitem value="Agendar Entrevista" url="#" />
							<p:menuitem value="Listar/Editar Entrevistas"
								url="../../../role/admin/search/InterviewSearch.xhtml" />
						</p:submenu>
						<p:submenu label="Guiões">
							<p:menuitem value="Novo Guião"
								url="../../../role/admin/scripts/NewScript.xhtml" />
							<p:menuitem value="Listar/Editar Guiões"
								url="../../../role/admin/search/ScriptSearch.xhtml" />
						</p:submenu>
						<p:submenu label="Estilos">
							<p:menuitem value="Gerir estilos"
								url="../../../role/admin/style/NewStyle.xhtml" />
						</p:submenu>
					</p:column>

					<p:column>
						<p:submenu label="Candidaturas">
							<p:menuitem value="Submeter Candidatura Manual?" 
								url="../../../role/admin/newuser/NewUser.xhtml" />
							<p:menuitem value="Pesquisar Candidatos"
								url="../../../role/admin/search/AllCandidates.xhtml" />
							<p:menuitem value="Mudar estado Candidaturas (remover!!)"
								url="../../../role/admin/search/SubmissionSearch.xhtml" />
							<p:menuitem value="Candidaturas Espontâneas"
								url="../../../role/admin/search/SpontaneousSearch.xhtml" />
						</p:submenu>
					</p:column>

					<p:column>
						<p:submenu label="Relatórios">
							<p:menuitem value="Criar Relatório"
								url="../../../role/admin/reports/CreateReport.xhtml" />
						</p:submenu>
						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefaultAdmin()}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRoleAdmin()}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:submenu label="Gestor" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.manager}">
					<p:column>
						<p:submenu label="Posições">
							<p:menuitem value="As Minhas Posições"
								url="../../../role/manager/positions/MyPositions.xhtml" />
							<p:menuitem value="Editar Posições (juntar ao ourtro?)"
								url="../../../role/manager/positions/EditPosition.xhtml" />
						</p:submenu>
						<p:submenu label="Candidaturas">
							<p:menuitem value="Procurar Candidatos?" 
								url="../../../role/manager/search/MyCandidates.xhtml" />
							<p:menuitem value="Candidaturas Espontâneas"
								url="../../../role/manager/search/SpontaneousSearch.xhtml" />
						</p:submenu>
						<p:submenu label="Entrevistas">
							<p:menuitem value="Agendar Entrevista" url="#" />
							<p:menuitem value="Listar/Editar Entrevistas" url="#" />
						</p:submenu>

						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefaultManager()}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRoleManager()}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:submenu label="Entrevistador" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.interviewer}">
					<p:column>
						<p:submenu label="Entrevistas">
							<p:menuitem value="As Minhas Entrevistas Agendadas" url="#" />
							<p:menuitem value="As Minhas Entrevistas Passadas" url="#" />
							<p:menuitem value="Submeter Resultado Entrevista" url="#" />
						</p:submenu>
						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefaultInterviewer()}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRoleInterviewer()}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:submenu label="Candidato" icon="ui-icon-wrench"
					rendered="#{userSessionManagement.candidate}">
					<p:column>
						<p:submenu label="Ofertas">
							<p:menuitem value="Em aberto"
								url="../../../role/candidate/landing/Landing.xhtml" />
						</p:submenu>
						<p:submenu label="Candidaturas">
							<p:menuitem value="As Minhas Candidaturas"
								url="../../../role/candidate/submissions/MySubmissions.xhtml" />
							<p:menuitem value="Submeter Candidatura Espontânea"
								rendered="#{userSessionManagement.cv}"
								oncomplete="PF('spontaneousSubmission').show();" />
						</p:submenu>
						<p:submenu label="Entrevistas">
							<p:menuitem value="As Minhas Próximas Entrevistas" url="#" />
						</p:submenu>

						<p:submenu label="CV">
							<p:menuitem value="Upload CV"
								rendered="#{!userSessionManagement.cv}"
								onclick="PF('uploadCV').show();" />

							<p:menuitem value="Ver CV" rendered="#{userSessionManagement.cv}"
								url="#{userSessionManagement.cvPath}" target="_blank" />

							<p:menuitem value="Actualizar CV"
								rendered="#{userSessionManagement.cv}"
								onclick="PF('uploadCV').show();" />
						</p:submenu>

						<p:submenu label="Perfil Inicial"
							rendered="#{!userSessionManagement.checkDefaultCandidate()}">
							<p:menuitem value="Definir Por Defeito"
								actionListener="#{userSessionManagement.defaultRoleCandidate()}"
								update="@form" icon="ui-icon-home" />
						</p:submenu>
					</p:column>

				</p:submenu>

				<p:submenu label="#{userSessionManagement.userFullName}"
					icon="ui-icon-person">
					<p:column>
						<p:submenu label="Utilizador">
							<p:menuitem value="Dados Pessoais"
								actionListener="#{editUserInfoCDI.updateInfo()}"
								update="editUserInfoForm"
								oncomplete="PF('editUserInfo').show();"
								rendered="#{!userSessionManagement.candidate}" />

							<p:menuitem value="Dados Pessoais"
								actionListener="#{editUserInfoCDI.updateInfo()}"
								update="editCandidateInfoForm"
								oncomplete="PF('editCandidateInfo').show();"
								rendered="#{userSessionManagement.candidate}" />

							<p:menuitem value="Mudar Password"
								onclick="PF('changePassword').show();" />

							<p:menuitem value="Mudar Email"
								onclick="PF('changeEmail').show();" />
						</p:submenu>
					</p:column>
				</p:submenu>

				<p:menuitem value="Logout" icon="ui-icon-power"
					actionListener="#{userSessionManagement.logout()}" ajax="false" />
			</p:megaMenu>

		</h:form>

	</ui:composition>

</h:body>
</html>
