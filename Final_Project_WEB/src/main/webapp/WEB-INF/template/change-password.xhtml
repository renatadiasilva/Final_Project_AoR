<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head></h:head>
<h:body>

	<ui:composition>

		<h:form id="changePasswordForm">

			<p:dialog header="Alterar a password" widgetVar="changePassword"
				draggable="false" resizable="false" modal="true">

				<h:panelGroup id="changePasswordDialog">

					<p:messages style="width: 100%" />

					<h:panelGrid columns="2">

						<p:outputLabel value="Password antiga: " for="changeOldPassword" />
						<p:password id="changeOldPassword"
							value="#{userSessionManagement.password}" size="35"
							required="true" />

						<p:outputLabel value="Nova Password: " for="changeNewPassword" />
						<p:password id="changeNewPassword"
							value="#{userSessionManagement.newPassword}" size="35"
							required="true" feedback="true" weakLabel="Fraca" goodLabel="Boa"
							strongLabel="Forte" promptLabel="Insira uma senha"
							match="changeNewPasswordRepeat" />

						<p:outputLabel value="Repita a nova Password: "
							for="changeNewPasswordRepeat" />
						<p:password id="changeNewPasswordRepeat" size="35" required="true" />

					</h:panelGrid>

					<p:commandButton value="Actualizar"
						actionListener="#{userSessionManagement.changePassword()}"
						icon="ui-icon-disk" update="changePasswordDialog"
						style="width: 100%" />

					<p:button value="Fechar" icon="ui-icon-close" style="width: 100%"
						onclick="PF('changePassword').hide();" />

				</h:panelGroup>

			</p:dialog>

		</h:form>

	</ui:composition>

</h:body>
</html>
